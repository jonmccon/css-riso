<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Ink Print Text Utility Demo</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
  /* -----------------------------
     Base page styling (demo only)
  ------------------------------ */
  body {
    margin: 0;
    padding: 4rem 2rem;
    background: #f7f5f1;
    font-family: Georgia, "Times New Roman", serif;
    color: #111;
  }

  section {
    max-width: 900px;
    margin: 0 auto 4rem;
  }

  h2 {
    font-size: 1rem;
    font-weight: normal;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    opacity: 0.6;
    margin-bottom: 1rem;
  }

  /* -----------------------------
     Ink print utility
  ------------------------------ */

  .ink-print {
    position: relative;
    filter: url(#ink-print);
  }

  .ink-print--rgb {
  filter: url(#ink-print-rgb);
}

.ink-print--cmy {
  filter: url(#ink-print-cmy);
}

  /* Optional: micro jitter */
  .ink-print--jitter {
    display: inline-block;
  }

  .ink-print--jitter > span {
    display: inline-block;
  }

  .ink-print--jitter > span:nth-child(odd) {
    transform: translate(-0.4px, 0.5px);
  }

  .ink-print--jitter > span:nth-child(even) {
    transform: translate(0.5px, -0.3px);
  }

  /* Optional: paper grain overlay */
  .ink-print--paper::after {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    background-image:
      repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.025),
        rgba(0, 0, 0, 0.025) 1px,
        transparent 1px,
        transparent 2px
      );
    mix-blend-mode: multiply;
    opacity: 0.15;
  }

  /* -----------------------------
     Demo typography
  ------------------------------ */

  .demo-text {
    font-size: clamp(1.2rem, 3vw, 2.2rem);
    line-height: 1.45;
    margin: 0;
  }
</style>
</head>

<body>

<!-- =============================
     SVG FILTER DEFINITIONS
     (one per page)
============================== -->
<svg width="0" height="0" aria-hidden="true">
  <defs>

    <!-- ======================
         RGB TUNED FILTER
    ======================= -->
    <filter id="ink-print-rgb"
      x="-20%" y="-20%" width="140%" height="140%"
      color-interpolation-filters="sRGB">

      <feColorMatrix in="SourceGraphic" type="matrix"
        values="1 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 1 0"
        result="r"/>

      <feColorMatrix in="SourceGraphic" type="matrix"
        values="0 0 0 0 0  0 1 0 0 0  0 0 0 0 0  0 0 0 1 0"
        result="g"/>

      <feColorMatrix in="SourceGraphic" type="matrix"
        values="0 0 0 0 0  0 0 0 0 0  0 0 1 0 0  0 0 0 1 0"
        result="b"/>

      <feOffset in="r" dx="0" dy="0" result="rOff"/>
      <feOffset in="g" dx="0" dy="0" result="gOff"/>
      <feOffset in="b" dx="0" dy="0" result="bOff"/>

      <feTurbulence id="rgb-noise"
        type="fractalNoise"
        baseFrequency="0.8"
        numOctaves="2"
        seed="1"
        result="noise"/>

      <feDisplacementMap in="rOff" in2="noise" scale="1.4" result="rDisp"/>
      <feDisplacementMap in="gOff" in2="noise" scale="1.1" result="gDisp"/>
      <feDisplacementMap in="bOff" in2="noise" scale="1.3" result="bDisp"/>

      <feBlend in="rDisp" in2="gDisp" mode="screen" result="rg"/>
      <feBlend in="rg" in2="bDisp" mode="screen"/>

    </filter>

    <!-- ======================
         CMY TUNED FILTER
    ======================= -->
    <filter id="ink-print-cmy"
      x="-20%" y="-20%" width="140%" height="140%"
      color-interpolation-filters="sRGB">

      <!-- Cyan -->
      <feColorMatrix in="SourceGraphic" type="matrix"
        values="0 0 0 0 0  1 0 0 0 0  1 0 0 0 0  0 0 0 1 0"
        result="c"/>

      <!-- Magenta -->
      <feColorMatrix in="SourceGraphic" type="matrix"
        values="1 0 0 0 0  0 0 0 0 0  1 0 0 0 0  0 0 0 1 0"
        result="m"/>

      <!-- Yellow -->
      <feColorMatrix in="SourceGraphic" type="matrix"
        values="1 0 0 0 0  1 0 0 0 0  0 0 0 0 0  0 0 0 1 0"
        result="y"/>

      <feOffset in="c" dx="0" dy="0" result="cOff"/>
      <feOffset in="m" dx="0" dy="0" result="mOff"/>
      <feOffset in="y" dx="0" dy="0" result="yOff"/>

      <feTurbulence id="cmy-noise"
        type="fractalNoise"
        baseFrequency="0.7"
        numOctaves="2"
        seed="1"
        result="noise"/>

      <feDisplacementMap in="cOff" in2="noise" scale="1.2" result="cDisp"/>
      <feDisplacementMap in="mOff" in2="noise" scale="1.6" result="mDisp"/>
      <feDisplacementMap in="yOff" in2="noise" scale="1.0" result="yDisp"/>

      <feBlend in="cDisp" in2="mDisp" mode="multiply" result="cm"/>
      <feBlend in="cm" in2="yDisp" mode="multiply"/>

    </filter>

  </defs>
</svg>



      
<!-- =============================
     DEMOS
============================== -->
<section>
  <p class="ink-print ink-print--rgb" data-seed="42">
  RGB misregistration — more digital, more chromatic
</p>

<p class="ink-print ink-print--cmy ink-print--paper" data-seed="17">
  CMY ink drift — softer, print-like, physical
</p>
</section>

<section>
  <h2>Base ink print</h2>
  <p class="demo-text ink-print">
    Et bienheureux ceux qui marchent dans l’encre,  
    car leurs mots ne s’alignent jamais tout à fait.
  </p>
</section>

<section>
  <h2>Ink print + micro jitter</h2>
  <p class="demo-text ink-print ink-print--jitter">
    <span>Les couches glissent,</span><br>
    <span>les lettres respirent.</span>
  </p>
</section>

<section>
  <h2>Ink print + jitter + paper grain</h2>
  <p class="demo-text ink-print ink-print--jitter ink-print--paper">
    <span>Imparfait comme une presse fatiguée,</span><br>
    <span>mais encore lisible.</span>
  </p>
</section>

  <script>
  // Simple seeded RNG
  function mulberry32(seed) {
    return function () {
      let t = seed += 0x6D2B79F5;
      t = Math.imul(t ^ t >>> 15, t | 1);
      t ^= t + Math.imul(t ^ t >>> 7, t | 61);
      return ((t ^ t >>> 14) >>> 0) / 4294967296;
    };
  }

  document.querySelectorAll('.ink-print').forEach((el, index) => {
    const seed = Number(el.dataset.seed || index + 1);
    const rand = mulberry32(seed);

    const dx = (rand() - 0.5) * 2;
    const dy = (rand() - 0.5) * 2;
    const scale = 1 + rand();

    const filterId = el.classList.contains('ink-print--cmy')
      ? 'ink-print-cmy'
      : 'ink-print-rgb';

    const filter = document.getElementById(filterId);
    if (!filter) return;

    filter.querySelectorAll('feOffset').forEach(o => {
      o.setAttribute('dx', dx.toFixed(2));
      o.setAttribute('dy', dy.toFixed(2));
    });

    filter.querySelectorAll('feDisplacementMap').forEach(d => {
      d.setAttribute('scale', scale.toFixed(2));
    });

    filter.querySelector('feTurbulence')?.setAttribute(
      'seed',
      Math.floor(rand() * 1000)
    );
  });
  </script>

</body>
</html>
