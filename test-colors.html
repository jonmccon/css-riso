<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Test Color Handling</title>
<style>
  body {
    margin: 0;
    padding: 2rem;
    background: #f7f5f1;
    font-family: Georgia, "Times New Roman", serif;
  }

  .ink-print {
    filter: url(#ink-print);
  }

  .demo-text {
    font-size: 2rem;
    margin: 1rem 0;
  }

  .red { color: #ff0000; }
  .blue { color: #0000ff; }
  .green { color: #00ff00; }
  .purple { color: #800080; }
  .orange { color: #ff6600; }
</style>
</head>
<body>

<svg width="0" height="0" aria-hidden="true" focusable="false">
  <defs>
    <filter id="ink-print"
      x="-20%" y="-20%" width="140%" height="140%"
      color-interpolation-filters="sRGB">

      <!-- Split channels -->
      <feColorMatrix in="SourceGraphic" type="matrix"
        values="
          1 0 0 0 0
          0 0 0 0 0
          0 0 0 0 0
          0 0 0 1 0"
        result="r"/>

      <feColorMatrix in="SourceGraphic" type="matrix"
        values="
          0 0 0 0 0
          0 1 0 0 0
          0 0 0 0 0
          0 0 0 1 0"
        result="g"/>

      <feColorMatrix in="SourceGraphic" type="matrix"
        values="
          0 0 0 0 0
          0 0 0 0 0
          0 0 1 0 0
          0 0 0 1 0"
        result="b"/>

      <!-- Misregistration -->
      <feOffset in="r" dx="-1.2" dy="0.6" result="rOff"/>
      <feOffset in="g" dx="0.8" dy="-0.4" result="gOff"/>
      <feOffset in="b" dx="0.3" dy="1.1" result="bOff"/>

      <!-- Noise -->
      <feTurbulence type="fractalNoise"
        baseFrequency="0.75"
        numOctaves="2"
        seed="4"
        result="noise"/>

      <!-- Diffusion -->
      <feDisplacementMap in="rOff" in2="noise"
        scale="1.6"
        xChannelSelector="R"
        yChannelSelector="G"
        result="rDisp"/>

      <feDisplacementMap in="gOff" in2="noise"
        scale="1.2"
        xChannelSelector="R"
        yChannelSelector="B"
        result="gDisp"/>

      <feDisplacementMap in="bOff" in2="noise"
        scale="1.4"
        xChannelSelector="G"
        yChannelSelector="B"
        result="bDisp"/>

      <!-- Soft bleed -->
      <feGaussianBlur in="rDisp" stdDeviation="0.4" result="rSoft"/>
      <feGaussianBlur in="gDisp" stdDeviation="0.6" result="gSoft"/>
      <feGaussianBlur in="bDisp" stdDeviation="0.5" result="bSoft"/>

      <!-- Recombine -->
      <feBlend in="rSoft" in2="gSoft" mode="multiply" result="rg"/>
      <feBlend in="rg" in2="bSoft" mode="multiply" result="final"/>

    </filter>
  </defs>
</svg>

<h2>Without filter:</h2>
<p class="demo-text red">Red text</p>
<p class="demo-text blue">Blue text</p>
<p class="demo-text green">Green text</p>
<p class="demo-text purple">Purple text</p>
<p class="demo-text orange">Orange text</p>

<h2>With current filter:</h2>
<p class="demo-text ink-print red">Red text</p>
<p class="demo-text ink-print blue">Blue text</p>
<p class="demo-text ink-print green">Green text</p>
<p class="demo-text ink-print purple">Purple text</p>
<p class="demo-text ink-print orange">Orange text</p>

</body>
</html>
